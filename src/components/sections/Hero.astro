---
import Button from '../ui/Button.astro';
---

<section class="relative w-full h-screen min-h-[600px] flex items-center justify-center overflow-hidden">
  {/* ECG Line Animation Container */}
  <div id="ecg-container" class="absolute top-[45%] left-0 w-full -translate-y-1/2 transition-opacity duration-1000 opacity-0">
    <svg
      viewBox="0 0 1200 120"
      preserveAspectRatio="none"
      class="w-full h-32 md:h-48 opacity-80"
    >
      <defs>
        <linearGradient id="line-gradient" x1="0" y1="0" x2="1" y2="0">
          <stop offset="0%" stop-color="#4682B4" stop-opacity="0" /> 
          <stop offset="20%" stop-color="#4682B4" stop-opacity="0.8" />
          <stop offset="100%" stop-color="#000000" stop-opacity="0" />
        </linearGradient>
        <filter id="glow">
          <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
          <feMerge>
            <feMergeNode in="coloredBlur"/>
            <feMergeNode in="SourceGraphic"/>
          </feMerge>
        </filter>
        <path id="heartbeat-path"
          d="M0,60 L200,60 L230,60 L240,40 L250,80 L260,20 L275,100 L290,60 L350,60 L380,60 L390,45 L400,75 L410,60 L600,60 L630,60 L640,30 L650,90 L665,60 L800,60 L830,60 L840,40 L850,80 L860,20 L875,100 L890,60 L1200,60"
        />
      </defs>

      <use href="#heartbeat-path"
        fill="none"
        stroke="#1e293b"
        stroke-width="1"
        vector-effect="non-scaling-stroke"
        class="opacity-30 dark:opacity-100"
      />

      <use href="#heartbeat-path"
        fill="none"
        stroke="url(#line-gradient)"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="animate-ecg-draw"
        style="stroke-dasharray: 1200; filter: url(#glow);"
        vector-effect="non-scaling-stroke"
      />
    </svg>
  </div>

  <div id="hero-content" class="container relative z-10 mx-auto px-4 sm:px-6 lg:px-8 text-center pt-24 transition-all duration-1000 transform translate-y-10 opacity-0">
    <h1 class="mx-auto max-w-5xl text-5xl font-bold tracking-tight text-navy dark:text-white sm:text-6xl lg:text-7xl mb-8 leading-tight drop-shadow-lg dark:drop-shadow-2xl transition-colors duration-500">
      <span class="block">Specialized Cardiovascular</span>
      <span class="block text-teal mt-2">Preclinical Research</span>
    </h1>
    
    <p class="mx-auto mt-6 max-w-2xl text-lg text-gray-600 dark:text-gray-400 mb-12 leading-relaxed font-light transition-colors duration-500">
      Four decades of GLP expertise advancing structural heart, neurovascular, and peripheral vascular innovation.
    </p>
    
    <div class="flex flex-col sm:flex-row items-center justify-center gap-4">
      <Button variant="primary" size="lg" href="/contact" class="w-full sm:w-auto">
        Schedule Consultation
      </Button>
      <Button variant="outline" size="lg" href="/preclinical-services" class="w-full sm:w-auto">
        Explore Capabilities
      </Button>
    </div>
  </div>
</section>

<script>
  // Animate hero on load
  setTimeout(() => {
    const ecg = document.getElementById('ecg-container');
    const content = document.getElementById('hero-content');
    if (ecg) ecg.classList.add('opacity-100');
    if (content) {
      content.classList.remove('translate-y-10', 'opacity-0');
      content.classList.add('translate-y-0', 'opacity-100');
    }
  }, 100);
</script>

